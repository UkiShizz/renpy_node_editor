"""Tooltips and descriptions for blocks and parameters"""
from __future__ import annotations

from renpy_node_editor.core.model import BlockType

# Описания блоков для палитры
BLOCK_DESCRIPTIONS = {
    BlockType.SAY: "Диалог персонажа. Используется для реплик персонажей в игре.",
    BlockType.NARRATION: "Повествование. Текст от автора без указания персонажа.",
    BlockType.VOICE: "Голосовая реплика. Привязывает аудиофайл к диалогу.",
    BlockType.CENTER: "Центрированный текст. Отображает текст по центру экрана.",
    BlockType.TEXT: "Текст на экране. Отображает текст в указанной позиции.",
    
    BlockType.SCENE: "Смена фона. Очищает экран и устанавливает новый фон.",
    BlockType.SHOW: "Показать изображение. Отображает персонажа или изображение на экране.",
    BlockType.HIDE: "Скрыть изображение. Убирает персонажа или изображение с экрана.",
    BlockType.IMAGE: "Определение изображения. Создает именованное изображение для использования в show/hide.",
    
    BlockType.START: "Стартовый блок. Точка входа в сцену. Подключайте к нему все блоки, которые должны выполняться первыми. Не генерирует код.",
    BlockType.IF: "Условное ветвление. Выполняет код в зависимости от условия (True/False).",
    BlockType.WHILE: "Цикл while. Повторяет код пока условие истинно.",
    BlockType.FOR: "Цикл for. Перебирает элементы списка или диапазона.",
    BlockType.MENU: "Меню выбора. Предлагает игроку выбрать один из вариантов.",
    BlockType.JUMP: "Переход на метку. Безусловный переход к указанной метке.",
    BlockType.CALL: "Вызов сцены. Вызывает другую сцену и возвращается обратно.",
    BlockType.LABEL: "Метка. Точка входа для переходов (jump/call).",
    BlockType.RETURN: "Возврат. Завершает текущую сцену и возвращает управление.",
    
    BlockType.PAUSE: "Пауза. Останавливает выполнение на указанное время.",
    BlockType.TRANSITION: "Переход. Применяет визуальный эффект перехода между сценами.",
    BlockType.WITH: "Применить переход. Применяет переход к предыдущему действию.",
    
    BlockType.SOUND: "Звуковой эффект. Воспроизводит короткий звук.",
    BlockType.MUSIC: "Фоновая музыка. Воспроизводит музыку в фоне.",
    BlockType.STOP_SOUND: "Остановить звук. Прекращает воспроизведение звукового эффекта.",
    BlockType.STOP_MUSIC: "Остановить музыку. Прекращает воспроизведение музыки.",
    BlockType.QUEUE_SOUND: "Очередь звука. Добавляет звук в очередь воспроизведения.",
    BlockType.QUEUE_MUSIC: "Очередь музыки. Добавляет музыку в очередь воспроизведения.",
    
    BlockType.SET_VAR: "Установить переменную. Присваивает значение переменной.",
    BlockType.DEFAULT: "Значение по умолчанию. Устанавливает начальное значение переменной (только при первом запуске).",
    BlockType.DEFINE: "Определение константы. Создает именованную константу.",
    BlockType.PYTHON: "Python код. Выполняет произвольный Python код.",
    
    BlockType.CHARACTER: "Определение персонажа. Создает персонажа с именем и настройками.",
    BlockType.STYLE: "Определение стиля. Создает кастомный стиль для UI элементов.",
}

# Описания параметров для панели свойств
PARAMETER_DESCRIPTIONS = {
    # SAY
    "who": "Имя персонажа, который говорит. Должен быть определен через CHARACTER блок.",
    "text": "Текст реплики персонажа.",
    "expression": "Выражение персонажа (например: happy, sad). Опционально.",
    "at": "Позиция на экране (например: left, right, center). Опционально.",
    "with_transition": "Переход для этого диалога (например: dissolve, fade). Опционально.",
    
    # NARRATION
    "text": "Текст повествования.",
    "with_transition": "Переход для повествования. Опционально.",
    
    # MENU
    "question": "Вопрос или текст перед меню выбора. Опционально.",
    "choices": "Список вариантов выбора. Каждый вариант может иметь текст, переход и условие.",
    
    # IF, WHILE
    "condition": "Python выражение, которое возвращает True или False (например: variable > 10).",
    
    # FOR
    "variable": "Имя переменной для итерации (например: i, item).",
    "iterable": "Список или диапазон для перебора (например: [1, 2, 3] или range(10)).",
    
    # JUMP, CALL
    "target": "Имя метки для перехода (для JUMP).",
    "label": "Имя метки для вызова (для CALL).",
    
    # PAUSE
    "duration": "Длительность паузы в секундах (например: 1.0, 2.5).",
    
    # TRANSITION, WITH
    "transition": "Название перехода (например: dissolve, fade, pixellate).",
    
    # SOUND, MUSIC
    "sound_file": "Путь к файлу звука (например: 'audio/sound.ogg').",
    "music_file": "Путь к файлу музыки (например: 'audio/music.ogg').",
    "fadein": "Время плавного появления в секундах. Опционально.",
    "fadeout": "Время плавного исчезновения в секундах. Опционально.",
    "loop": "Зациклить воспроизведение (True/False).",
    
    # SET_VAR, DEFAULT, DEFINE
    "variable": "Имя переменной (например: player_name, score).",
    "value": "Значение переменной. Может быть число, строка, список или словарь.",
    "name": "Имя константы или изображения.",
    
    # CHARACTER
    "name": "Имя переменной персонажа (например: e, alice).",
    "display_name": "Имя, которое будет отображаться в игре (например: 'Алиса').",
    
    # IMAGE
    "path": "Путь к файлу изображения (например: 'images/character.png').",
    
    # SCENE
    "background": "Имя фона или изображения (например: 'bg room' или 'black').",
    "layer": "Слой для отображения. Опционально.",
    
    # SHOW
    "character": "Имя персонажа или изображения для отображения.",
    "expression": "Выражение персонажа. Опционально.",
    "behind": "Показать за другим изображением. Опционально.",
    "zorder": "Порядок отображения (число). Опционально.",
    
    # HIDE
    "character": "Имя персонажа или изображения для скрытия.",
    
    # VOICE
    "voice_file": "Путь к файлу голоса (например: 'voice/alice_01.ogg').",
    
    # CENTER, TEXT
    "text": "Текст для отображения.",
    "xpos": "X координата позиции. Опционально.",
    "ypos": "Y координата позиции. Опционально.",
    
    # PYTHON
    "code": "Python код для выполнения. Может быть несколько строк.",
}

def get_block_tooltip(block_type: BlockType) -> str:
    """Получить подсказку для типа блока"""
    return BLOCK_DESCRIPTIONS.get(block_type, "Блок для создания Ren'Py визуальной новеллы.")

def get_parameter_tooltip(param_name: str) -> str:
    """Получить подсказку для параметра"""
    return PARAMETER_DESCRIPTIONS.get(param_name, "Параметр блока.")
